matrix WVPMatrix;

vector LightDirection;
vector Scalar;

struct VS_INPUT
{
    vector position : POSITION;
    vector normal   : NORMAL;
    vector position1 : POSITION1;
    vector normal1   : NORMAL1;
    float2 uvCoords : TEXCOORD;
};

struct VS_OUTPUT
{
    vector position : POSITION;
    vector diffuse  : COLOR;
    float2 uvCoords : TEXCOORD;
};

VS_OUTPUT Main(VS_INPUT input)
{
    VS_OUTPUT output = (VS_OUTPUT)0;
    
    output.position = input.position*Scalar.x + input.position1*Scalar.y;
    output.position = mul(output.position, WVPMatrix);
    
    vector normal = input.normal*Scalar.x + input.normal1*Scalar.y;
    output.diffuse = dot((-LightDirection), normal);
    
    output.uvCoords = input.uvCoords; 
    
    return output;
}
